<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Javascript object definition</title>
</head>
<body>
Object là kiểu dữ liệu chính của javascript và MỌI THỨ trong javascript đều là object. Ngoài ra javascript cũng cho phép ta tạo ra object riêng. <br />
1. Everything is object: Trong javascript hầu như mọi thứ đều là object, ngay cả các primitive data type (String, Number, Boolean, Null, Undefined)
ngoại trừ Null và Undefined cũng được đối xử như object và có thể trở thành object. <br />
<pre>
2. Javascript object:
    - Một biến object trong javascript là 1 biến phức tạp gồm các property và các method.
    - Nội dung của 1 object là tổng hợp của: Các property (có thể là primitive values, objects hoặc cả 2) và các methods.
    - Trong javascript tất cả các value ngoại trừ các primitive value đều là object.
</pre>
<pre>
3. Object properties:
    - Properties là các value liên kết với object.
    - Một object là 1 collection các property không sắp thứ tự.
    - Mỗi property đều có name và value.
    - Truy cập property theo 2 cách:
        + object.propertyName
        + object[expression]
</pre>
<pre>
4. Object method:
    - Method: là các action có thể thực hiện trên object.
    - Gọi method theo cú pháp: object.method().
</pre>
<pre>
5. Create Javascript object:
    - Trong javascript ta có thể define và create object theo các cách sau:
        + Define và create single object sử dụng cú pháp literal. Cách này define và create object trong cùng 1 statement.
        + Define và create single object sử dụng từ khóa new.
        <a id="objectConstructor">+ Define một object constructor rồi create object theo object constructor đó. 2 cách trên chỉ tạo ra được single object còn cách này
            cho phép ta tạo nhiều object trong cùng object type.</a>
        + ECMAScript 5  còn cho phép tạo 1 object bằng method Object.create().

</pre>
<pre>
6. This keyword:
    - Trong javascript this chính là object sở hữu javascript code trong scope đó. Value của this khi sử dụng trong function là object sở hữu
        code function đó. Value của this khi sử dụng trong object là object sở hữu code của object đó (chính bản thân object đó).
    - Từ khóa this là 1 object constructor không có value, nó chỉ là 1 thay thế cho 1 object mới.
    - Giá trị của this sẽ trở thành new object khi constructor được dùng để tạo 1 object.
    - Nhớ rằng this chỉ là 1 từ khóa không phải là 1 biến vì thế không thể thay đổi giá trị của nó được.
</pre>
<pre>
7. Built-in Javascript Constructor:
    - Javascript có 1 số built-in constructor cho các native object như sau:
        + var a = new Object(); // a new object object
        + var b = new String(); // a new String object
        + var c = new Number(); // a new Number object
        + var d = new Boolean(); // a new Boolean object
        + var e = new Array(); // a new Array object
        + var f = new RegExp(); //a new RegExp object
        + var g = new Function(); // a new Function object
        + var h = new Date(); // a new Date object
</pre>
<pre>
8. Note:
    - Chú ý rằng trong danh sách các built-in constructor trên không có Math() object vì Math() object là global object nên từ khóa new không thể
    sử dụng trên global object.
    - Như ta đã thấy trong javascript có các phiên bản object của các primitive data type. Vì thế không có lý do gì mà ta phải tạo các object
        phức tạp điều đó sẽ làm giảm performance của chương trình và hơn nữa các primitive value sẽ thực thi nhanh hơn so với các object
        thực thụ được tạo bởi từ khóa new thay vào đó ta nên sử dụng các cú pháp literal với mỗi primitive data type.
    - Nhớ rằng this chỉ là 1 từ khóa không phải là 1 biến vì thế không thể thay đổi giá trị của nó được.
    - Javascript object là mutable: tức là các object trong javascript có thể bị thay đổi vì nó được đánh địa chỉ tham chiếu không phải giá trị
        Vì thế mọi thao tác trên object đều làm thay đổi tới địa chỉ nhớ mà object đang chiếm giữ. Điều này có nghĩa là các biến trỏ tới địa chỉ nhớ
        đó cũng thay đổi theo.
</pre>
<script>
    /**
     * Declare and init variables
     */
    var str = "Thanh Nguyen";
    var str2 = new String();
    var no = 3.14;
    var bool = false;
    var n = null;
    var u = undefined;

    var arr = [];
    var obj = {};
    var reg = /()/;
    var func = function() {};

    /**
     * check real data type of an object
     */
    function getObjectType(obj) {
        return Object.prototype.toString.call(obj);
    }

    /**
     * console test
     */
    console.log('typeof str: ', typeof str, ', real data type: ', getObjectType(str));
    console.log('typeof str2: ', typeof str2, ', real data type: ', getObjectType(str2));
    console.log('typeof no: ', typeof no, ', real data type: ', getObjectType(no));
    console.log('typeof bool: ', typeof bool, ', real data type: ', getObjectType(bool));
    console.log('typeof n: ', typeof n, ', real data type: ', getObjectType(n));
    console.log('typeof u: ', typeof u, ', real data type: ', getObjectType(u));
    console.log('typeof arr: ', typeof arr, ', real data type: ', getObjectType(arr));
    console.log('typeof obj: ', typeof obj, ', real data type: ', getObjectType(obj));
    console.log('typeof reg: ', typeof reg, ', real data type: ', getObjectType(reg));
    console.log('typeof func: ', typeof func, ', real data type: ', getObjectType(func));

    /**
     * Object
     */
    var person = { // define and create object literal
        name: "Thanh Nguyen", // primitive value
        age: 26,
        state: { // object
            married: false,
            health: 'Strong',
            skill: 'Starter'
        },
        sex: "male"
    };

    var person2 = new Object(); // defined and create object with new keyword
    person2.name = "Thanh Nguyen";
    person2.age = 26;
    person2.sex = "male";

    function person3(name, age, sex, national) { // define object constructor

        //set default value for parameters
        this.name = name || "Thanh Nguyen";
        this.age = age || 26;
        this.sex = sex || "male";
        this.national = national || "Viet Nam";

        //declare methods
        this.getName = function() {
          return this.name;
        };
        this.setName = function() {
            this.name = prompt('Enter new name here');
            return this.name;// return current instance object that construct from object constructor
            //return person3.length; // return object constructor length
        };
        this.getThis = function() {
          return this;
        };
    } // not include comma at here because this is defination(declaration) not statement
    var thanhNguyen = new person3("Thanh Nguyen", 26, "male"); // create object use object person3 constructor
    var thieuNguyen = new person3("Thieu Nguyen", 19, "male"); // create object use object person3 constructor
    console.log('=============================object=================================');
    console.log('thanhNguyen.getName: ', thanhNguyen.getName());
    console.log('thanhNguyen.setName: ', thanhNguyen.setName());
    console.log('thanhNguyen.getThis: ', thanhNguyen.getThis());
    console.log('thieuNguyen.getName: ', thieuNguyen.getName());
    console.log('thieuNguyen.getThis: ', thieuNguyen.getThis());



</script>
</body>
</html>